"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[11],{11:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r,a=t(439),i=t(791),c=t(689),s=t(87),o=t(168),u=t(444),l=(0,u.ZP)(s.rU)(r||(r=(0,o.Z)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 0;\n  color: black;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n  max-width: 160px;\n\n  :hover {\n    color: orangered;\n  }\n"]))),f=t(184);function p(e){var n=e.to,t=e.children;return(0,f.jsx)(l,{to:n,children:t})}var h,d,x,v,m,g=t(128),w=t(321),j=u.ZP.div(h||(h=(0,o.Z)(["\n  display: flex;\n  margin-bottom: 20px;\n  > img {\n    margin-right: 10px;\n  }\n"]))),k=u.ZP.li(d||(d=(0,o.Z)(["\n  margin-bottom: 20px;\n  &:last-child {\n    margin-bottom: 0px;\n  }\n"]))),b=u.ZP.ul(x||(x=(0,o.Z)(["\n  display: flex;\n"]))),y=u.ZP.ul(v||(v=(0,o.Z)(["\n  margin-right: 10px;\n  &:last-child {\n    margin-right: 0px;\n  }\n"]))),Z=u.ZP.ul(m||(m=(0,o.Z)(["\n  display: flex;\n  margin-bottom: 10px;\n  > li {\n    margin-right: 10px;\n    &:last-child {\n      margin-right: 0px;\n    }\n  }\n"]))),_=t(910);function S(){var e=(0,i.useState)({}),n=(0,a.Z)(e,2),t=n[0],r=n[1],o=(0,i.useState)("idle"),u=(0,a.Z)(o,2),l=u[0],h=u[1],d=(0,c.UO)().movieId,x=(0,c.TH)(),v=(0,i.useRef)(x);(0,i.useEffect)((function(){h("pending"),(0,_.DD)(d).then((function(e){h("resolved"),r(e)})).catch((function(e){return alert(e)}))}),[d]);var m=t.original_title,S=t.poster_path,U=t.vote_average,E=t.overview,F=t.genres,N=t.release_date,P=new Date(N).getFullYear();return"pending"===l?(0,f.jsx)(w.Z,{}):"resolved"===l?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(p,{to:v.current.state,children:[(0,f.jsx)(g.jTe,{size:"24"}),"Back to movies"]}),(0,f.jsxs)(j,{children:[(0,f.jsx)("img",{src:"https://image.tmdb.org/t/p/w400/".concat(S),alt:""}),(0,f.jsxs)("ul",{children:[(0,f.jsx)(k,{children:(0,f.jsxs)("b",{children:[m," (",P,")"]})}),(0,f.jsxs)(k,{children:["User score: ",(10*U).toFixed(0),"%"]}),(0,f.jsxs)(k,{children:[(0,f.jsx)("b",{children:"Overview"}),(0,f.jsx)("br",{})," ",E]}),(0,f.jsxs)(k,{children:[(0,f.jsx)("b",{children:"Genres:"}),(0,f.jsx)(b,{children:F.map((function(e){var n=e.name;return(0,f.jsx)(y,{children:n},n)}))})]})]})]}),(0,f.jsx)("p",{children:"Additional informationk"}),(0,f.jsxs)(Z,{children:[(0,f.jsx)("li",{children:(0,f.jsx)(s.rU,{to:"cast",children:"Cast"})}),(0,f.jsx)("li",{children:(0,f.jsx)(s.rU,{to:"reviews",children:"Reviews"})})]}),(0,f.jsx)(i.Suspense,{fallback:(0,f.jsx)(w.Z,{}),children:(0,f.jsx)(c.j3,{})})]}):void 0}},910:function(e,n,t){t.d(n,{Bt:function(){return g},DD:function(){return d},Tg:function(){return p},vw:function(){return l},y:function(){return v}});var r=t(861),a=t(757),i=t.n(a),c=t(686),s=t.n(c),o="https://api.themoviedb.org/",u="604d147cd55c0bcd03b68a72549a64de";function l(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function e(n){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"3/search/movie?api_key=").concat(u,"&query=").concat(n,"&language=en-US&include_adult=false"));case 2:if((t=e.sent).ok){e.next=7;break}if(404!==t.status){e.next=6;break}throw new Error(s().Notify.failure("Search result not successful. Try again"));case 6:return e.abrupt("return");case 7:return e.next=9,t.json();case 9:if(r=e.sent,0!==(a=r.results).length){e.next=14;break}return s().Notify.failure("Search result not successful. Enter the correct movie name."),e.abrupt("return");case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function e(){var n,t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"3/trending/movie/week?api_key=").concat(u,"&language=en-US"));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(s().Notify.failure("Failed to fetch trending movies"));case 5:return e.next=7,n.json();case 7:return t=e.sent,r=t.results,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(i().mark((function e(n){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"3/movie/").concat(n,"?api_key=").concat(u,"&language=en-US"));case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(s().Notify.failure("Failed to fetch movie details"));case 5:return e.next=7,t.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function e(n){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"3/movie/").concat(n,"/credits?api_key=").concat(u));case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(s().Notify.failure("Failed to fetch movie details"));case 5:return e.next=7,t.json();case 7:return r=e.sent,a=r.cast,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(i().mark((function e(n){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"3/movie/").concat(n,"/reviews?api_key=").concat(u));case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(s().Notify.failure("Failed to fetch movie details"));case 5:return e.next=7,t.json();case 7:return r=e.sent,a=r.results,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=11.164f5df2.chunk.js.map